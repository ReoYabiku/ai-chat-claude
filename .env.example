# ======================
# Database
# ======================
# MongoDB接続文字列
# Docker Compose使用時: mongodb://mongodb:27017/ai-chat?replicaSet=rs0&directConnection=true
# MongoDB Atlas使用時: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<dbname>?retryWrites=true&w=majority
# ローカル開発時: mongodb://localhost:27017/ai-chat?replicaSet=rs0&directConnection=true
DATABASE_URL="mongodb://mongodb:27017/ai-chat?replicaSet=rs0&directConnection=true"

# ======================
# AI API
# ======================
# Anthropic Claude APIキー（https://console.anthropic.com から取得）
# 必須: このキーがないとAIチャット機能が動作しません
ANTHROPIC_API_KEY="sk-ant-api03-xxxxx"

# ======================
# Application
# ======================
# 実行環境 (development | production)
NODE_ENV="development"

# APIサーバーのポート番号（Docker内部では8080、ホストからは3001でアクセス）
PORT=8080

# ログレベル (debug | info | warn | error)
LOG_LEVEL="debug"

# ======================
# CORS Configuration
# ======================
# 本番環境で許可するオリジン（カンマ区切り）
# 例: ALLOWED_ORIGINS=https://your-frontend.run.app,https://yourdomain.com
# Docker Compose使用時: http://localhost:3000
ALLOWED_ORIGINS="http://localhost:3000"

# ======================
# Rate Limiting
# ======================
# Redis URL
# Docker Compose使用時: redis://redis:6379
# ローカル開発時: redis://localhost:6379
# 未設定の場合はインメモリストア使用（シングルインスタンスのみ対応）
REDIS_URL="redis://redis:6379"

# レート制限：時間枠あたりの最大リクエスト数
RATE_LIMIT_MAX=100

# レート制限：時間枠（ミリ秒）
RATE_LIMIT_WINDOW_MS=60000

# ======================
# Frontend (Next.js)
# ======================
# フロントエンドからアクセスするAPIのURL
# Docker Compose使用時: http://localhost:3001
# 本番環境: https://your-api.run.app
NEXT_PUBLIC_API_URL="http://localhost:3001"

# アプリケーション名
NEXT_PUBLIC_APP_NAME="AI Chat Claude"

# アプリケーションバージョン
NEXT_PUBLIC_APP_VERSION="1.0.0"
